{% load static i18n %}<!DOCTYPE html>{% load notifications_tags %} {% load menu_generator %}
{% get_current_language as LANGUAGE_CODE %}
<html lang="{{ LANGUAGE_CODE }}">
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="x-ua-compatible" content="ie=edge"/>
  <title>
    {% block title %}
      Infinite Group
    {% endblock title %}
  </title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description"
        content="Infinite Group"/>
  <meta name="author"
        content="Infinite Group"/>
  <link rel="icon" href="{% static 'images/favicons/favicon.ico' %}"/>
  {% block css %}
    <!-- Third-party CSS libraries go here -->
    <link href="{% static 'css/tabler/tabler-min.css' %}" rel="stylesheet"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/icons-webfont@latest/tabler-icons.min.css">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/core@1.0.0-beta17/dist/css/tabler-flags.min.css">
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/@tabler/core@1.0.0-beta17/dist/css/tabler-payments.min.css">
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/@tabler/core@1.0.0-beta17/dist/css/tabler-vendors.min.css">

    <!--  =======BOX ICONS=====-->
    <link rel="stylesheet" type="text/css" href="{% static 'css/icons/boxicon.min.css' %}">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>

    <!--  =======Unpoly Js=====-->
    <link rel="stylesheet" href="https://unpkg.com/unpoly@2.7.2/unpoly.min.css">

    <!--  =======Tom Select=====-->
    <link href="https://cdn.jsdelivr.net/npm/tom-select@2.3.1/dist/css/tom-select.css" rel="stylesheet">
    <!-- This file stores project-specific CSS -->
    <!-- =============Alpine Js=======-->
    <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>


    <link href="{% static 'css/project.css' %}" rel="stylesheet"/>


  {% endblock css %}
  <!-- Le javascript
      ================================================== -->
  {# Placed at the top of the document so pages load faster with defer #}
  {% block javascript %}

    <!-- Third-party javascript libraries go here -->
    <script src="https://unpkg.com/unpoly@2.7.2/unpoly.min.js"></script>

    <script src="{% static 'js/tabler-min.js' %}" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/tom-select@2.3.1/dist/js/tom-select.complete.min.js"></script>
    <!-- place project specific Javascript in this file -->

  {% endblock javascript %}
</head>
<body class="{% block bodyclass %}{% endblock bodyclass %}">
{% block body %}
  <div class="page">
  <aside class="navbar navbar-vertical navbar-expand-lg navbar-dark">
    <div class="container-fluid">
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#sidebar-menu"
              aria-controls="sidebar-menu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <h1 class="navbar-brand navbar-brand-autodark">
        <a class="navbar-brand" href="{% url 'paceapp:home' %}">
          <img src="{% static 'logo/infiniteLogo.png' %}" class="img-fluid me-3"
               alt="Infinite Group" style="height: 3rem;">
        </a>
      </h1>
      <div class="collapse navbar-collapse d-flex justify-content-between flex-column" id="sidebar-menu">
        <ul class="navbar-nav pt-lg-3 ">
          {% get_menu "NAV_MENU_LEFT" as left_menu %}
          {% for item in left_menu %}
            {% if item.submenu %}
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle show d-flex gap-2" href="#" data-bs-toggle="dropdown"
                   data-bs-auto-close="outside" role="button" aria-expanded="true">
                  <span class="nav-link-title">
                    <i class="ti {{ item.icon_class }}" style="font-size: 20px;"></i>
                  </span>
                  <span class="fs-3">{{ item.name }}</span>
                </a>
                <div class="dropdown-menu" data-bs-popper="static">
                  {% for menu in item.submenu %}
                    <a class="dropdown-item {% if menu.selected %} active {% endif %}" href="{{ menu.url }}"
                       rel="noopener">
                        <span class="nav-link-title">
                          <i class="{{ menu.icon_class }}" style="font-size: 20px;"></i>
                        </span>
                      <span class="fs-3"> {{ menu.name }}</span></a>
                  {% endfor %}
              </li>
            {% else %}
              <li class="nav-item {% if item.selected %} active {% endif %}">
                <a class="nav-link  d-flex gap-2" href="{{ item.url }}"
                   {% if item.target %}target="{{ item.target }}"{% endif %}>
                    <span class="nav-link-title">
                         <i class="{{ item.icon_class }}" style="font-size: 20px;"></i>
                        </span>
                  <span class="fs-3">{{ item.name }}</span>
                </a>
              </li>
            {% endif %}
          {% endfor %}
          {% if request.user.partner %}
            <li class="nav-item ">
              <a class="nav-link  d-flex gap-2" href="https://infinitenewsdesk.com/" target="_blank">
                    <span class="nav-link-title">
                         <i class="ti ti-news" style="font-size: 20px;"></i>
                        </span>
                <span class="fs-3">New Desk</span>
              </a>
            </li>
            <li>
              <div class="sidenavCard d-flex flex-column gap-4 bg-white">
                <div class=" d-flex flex-column gap-2">
                  {% for manager in request.user.partner.account_managers_in_region %}

                    <div class="d-flex flex-row gap-2">
                      <div class="w-50 h-50 rounded-6 border-1 border-success">
                        <img src="{{ manager.user.get_avatar_url }}" class="rounded-5"/>
                      </div>
                      <div class="flex flex-column gap-2">
                        <div class="flex flex-column gap-0">
                          <span class="fs-5 text-dark fw-bold m-0">{{ manager.user.name }}</span>
                          <span class="fs-5 text-dark m-0">{{ manager.get_mobile_number }}</span>
                        </div>
                        <a href="{% url 'core:contact_us' %}"
                        <span class="fs-5 text-purple fw-bold">Connect Now</span>
                        </a>
                      </div>
                    </div>

                  {% empty %}
                    <p class="text-dark">No account managers assigned in this region.</p>
                  {% endfor %}
                </div>
              </div>
            </li>

            <li class="nav-item list-unstyled m-2 textLinkNav" >
                <a class=" d-flex gap-2 text-white" href="#" style="">
                         <i class="ti ti-copyright" style="font-size: 25px;"></i>
                  <span class="fs-4">2025 - All rights reserved.</span>
                </a>
            </li>

          {% endif %}


        </ul>

      </div>
    </div>
  </aside>
  <header class="navbar navbar-expand-md navbar-light d-none d-lg-flex d-print-none">
    <div class="container-xl">
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar-menu"
              aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="navbar-nav flex-row order-md-last">
        {% if request.user.is_authenticated %}
          {#        Notification and avatar#}
          {% include 'layout/notification.html' %}
        {% endif %}
      </div>
      <div class="collapse navbar-collapse" id="navbar-menu">
        <div>
{#          <form action="./" method="get" autocomplete="off" novalidate>#}
{#            <div class="input-icon">#}
{#              <span class="input-icon-addon">#}
{#                <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24"#}
{#                     stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path#}
{#                  stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"/><path#}
{#                  d="M21 21l-6 -6"/></svg>#}
{#              </span>#}
{#              <input type="text" value="" class="form-control form-control-rounded"#}
{#                     placeholder="Search By Student ID, Passport No..." style="width: 300px;"#}
{#                     aria-label="Search in website">#}
{#            </div>#}
{#          </form>#}
        </div>
        <div>
          {% if messages %}
            {% for message in messages %}
              <div class="position-fixed bottom-0 mt-5  end-0" style="z-index: 999;" id="alert-box">
                <div class="alert alert-dismissible {% if message.tags %}alert-{{ message.tags }}{% endif %}">
                  {{ message }}
                  <button type="button"
                          class="btn-close"
                          data-bs-dismiss="alert"
                          aria-label="Close"></button>
                </div>
              </div>
            {% endfor %}
          {% endif %}
        </div>
      </div>
    </div>
  </header>
  <div class="page-wrapper">
  <div class="container-fluid">
    {% block main %}
      {% block content %}
        <p>Welcome to Infinite Pace</p>
      {% endblock content %}
    {% endblock main %}

  </div>
{% endblock body %}
<!-- /container -->
{% block modal %}
{% endblock modal %}
{% block inline_javascript %}
  {% comment %}
    Script tags with only code, no src (defer by default). To run
    with a "defer" so that you run inline code:
    <script>
      window.addEventListener('DOMContentLoaded', () => {
        /* Run whatever you want */
      });
    </script>
    {% endcomment %}
{% endblock inline_javascript %}
<script>
  let notification_mark_all_as_read = "{% url 'users:notification_mark_all_as_read' %}";
  let notificationReadUnreadListUrl = "{% url 'users:notifications_read_and_unread_list' %}";
</script>
<script src="{% static 'js/common.js' %}"></script>
<script defer src="{% static 'js/project.js' %}"></script>
<script defer src="{% static 'js/dist/apexcharts.min.js' %}"></script>

<script src="{% static 'notifications/notify.js' %}" type="text/javascript"></script>
{% if request.user.is_authenticated %}
  {% register_notify_callbacks callbacks='fill_notification_list,fill_notification_badge,fetchNotificationsReadAndUnreadList' %}
{% endif %}

<script type="text/javascript">window.$crisp=[];window.CRISP_WEBSITE_ID="d53d2adf-4bbd-4a84-b4a2-5c1e6c686aa1";(function(){d=document;s=d.createElement("script");s.src="https://client.crisp.chat/l.js";s.async=1;d.getElementsByTagName("head")[0].appendChild(s);})();</script>

</body>
</html>
